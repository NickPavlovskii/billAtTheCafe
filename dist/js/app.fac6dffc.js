(function(){"use strict";var e={5895:function(e,s,t){var o=t(9242),i=t(3852),n=t(3396);const l=e=>((0,n.dD)("data-v-b030292e"),e=e(),(0,n.Cn)(),e),a={class:"cont"},c=l((()=>(0,n._)("h1",{class:"app-title"},"Cafe Bill Splitter",-1))),r={key:0,style:{height:"300px","z-index":"2"}},d=l((()=>(0,n._)("h1",null,"Добро пожаловать в Cafe Bill Splitter",-1))),p={class:"btns"},u={key:0,class:"modal"},h={class:"modal-content"},m=l((()=>(0,n._)("ol",null,[(0,n._)("li",null,'Шаг 1: Добавьте участников счета, нажав кнопку "Добавить участников".'),(0,n._)("li",null,"Шаг 2: Добавьте позиции счета, указав название и цену для каждой позиции."),(0,n._)("li",null,'Шаг 3: Проверьте результаты разделения счета на вкладке "Результат".')],-1))),v=l((()=>(0,n._)("p",null,"Вы также можете удалить участника или позицию, кликнув на соответствующую кнопку.",-1))),_=l((()=>(0,n._)("img",{src:"cofe.png",class:"background-image"},null,-1))),w={key:1,class:"add-person"},f={class:"add-person-content"},b=l((()=>(0,n._)("span",null,[(0,n.Uk)("Далее"),(0,n._)("i",{class:"pi pi-chevron-right"})],-1))),g=l((()=>(0,n._)("i",{class:"i"},null,-1))),k=[b,g],P={key:2},y=l((()=>(0,n._)("span",null,[(0,n.Uk)("Результат"),(0,n._)("i",{class:"pi pi-chevron-right"})],-1))),C=l((()=>(0,n._)("i",{class:"i"},null,-1))),D=[y,C],M={key:3},S=l((()=>(0,n._)("div",{class:"niklad-tag"},"@Niklad",-1))),x={class:"modal-content"},I={key:0},T={key:1},A={class:"modal-content"},V=l((()=>(0,n._)("h3",null,"Должно быть добавлено как минимум 2 позиции",-1)));function O(e,s,t,o,i,l){const b=(0,n.up)("my-share"),g=(0,n.up)("Icon"),y=(0,n.up)("add-persons"),C=(0,n.up)("add-positions"),O=(0,n.up)("bill-result");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("i",{class:"pi pi-home app-icon app-icons app-icons-home",onClick:s[0]||(s[0]=(...e)=>l.navigateToHome&&l.navigateToHome(...e))}),(0,n._)("i",{class:"pi pi-cog app-icon app-icons",onClick:s[1]||(s[1]=(...s)=>e.navigateToSettings&&e.navigateToSettings(...s))}),(0,n.Wm)(b,{class:"share-container"}),c,"main-component"===i.currentScreen?((0,n.wg)(),(0,n.iD)("div",r,[d,(0,n._)("div",p,[(0,n._)("button",{onClick:s[2]||(s[2]=(...e)=>l.navigateToPersons&&l.navigateToPersons(...e)),style:{"z-index":"5"}},"Начать"),(0,n._)("button",{class:"instruction-button",onClick:s[3]||(s[3]=(...e)=>l.showInstructions&&l.showInstructions(...e))},[(0,n.Wm)(g,{style:{color:"yellow","font-weight":"bold"},icon:"fluent-mdl2:hint-text"})])]),i.showModalMain?((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",h,[(0,n._)("h2",null,[(0,n.Wm)(g,{icon:"fluent-mdl2:hint-text"})]),m,v,(0,n._)("button",{onClick:s[4]||(s[4]=(...e)=>l.closeModal&&l.closeModal(...e))},"Закрыть")])])):(0,n.kq)("",!0),_])):"add-persons"===i.currentScreen?((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("div",f,[(0,n.Wm)(y,{style:{},people:i.people,onAddPeople:l.addPeople,onDeletePerson:l.deletePerson},null,8,["people","onAddPeople","onDeletePerson"]),(0,n._)("button",{onClick:s[5]||(s[5]=e=>l.goToNextScreen("add-positions")),class:"p-mt-3 add-button addbtn btnn"},k)])])):"add-positions"===i.currentScreen?((0,n.wg)(),(0,n.iD)("div",P,[(0,n.Wm)(C,{people:i.people,positions:i.positions,"is-name-valid":t.isNameValid,"is-price-valid":t.isPriceValid,"is-people-selected":t.isPeopleSelected,onAddPosition:l.addPosition,onRemovePosition:l.removePosition},null,8,["people","positions","is-name-valid","is-price-valid","is-people-selected","onAddPosition","onRemovePosition"]),(0,n._)("button",{onClick:s[6]||(s[6]=e=>l.openPositionModal("bill-result")),class:"p-mt-3 add-button addbtn btnn"},D)])):"bill-result"===i.currentScreen?((0,n.wg)(),(0,n.iD)("div",M,[(0,n.Wm)(O,{positions:i.positions,people:i.people},null,8,["positions","people"])])):(0,n.kq)("",!0),S,i.showModal?((0,n.wg)(),(0,n.iD)("div",{key:4,class:"modal-overlay",onClick:s[8]||(s[8]=(...e)=>l.closeModal&&l.closeModal(...e))},[(0,n._)("div",x,[0===i.people.length?((0,n.wg)(),(0,n.iD)("h3",I,"Но тут же никого нет 🤔 ")):1===i.people.length?((0,n.wg)(),(0,n.iD)("h3",T,"Добавьте еще кого-нибудь!")):(0,n.kq)("",!0),(0,n._)("button",{onClick:s[7]||(s[7]=e=>i.showModal=!1),class:"p-button"},"Ок")])])):(0,n.kq)("",!0),i.showPositionModal?((0,n.wg)(),(0,n.iD)("div",{key:5,class:"modal-overlay",onClick:s[10]||(s[10]=(...e)=>l.closePositionModal&&l.closePositionModal(...e))},[(0,n._)("div",A,[V,(0,n._)("button",{onClick:s[9]||(s[9]=e=>i.showPositionModal=!1),class:"p-button"},"Ок")])])):(0,n.kq)("",!0)])}t(7658);var z=t(6088),q=t(7139);const N=e=>((0,n.dD)("data-v-0248f090"),e=e(),(0,n.Cn)(),e),W={class:"add-person-container"},U=N((()=>(0,n._)("h2",null,"Добавить человека",-1))),E={class:"p-inputgroup flex-"},H={class:"p-inputgroup-addon"},Z=(0,n.uE)('<div class="button-wrapper" data-v-0248f090><button type="submit" class="p-mt-3 add-button_1" data-v-0248f090><span class="button-icon-wrapper" data-v-0248f090><i class="pi pi-plus" data-v-0248f090></i></span><span class="dob" data-v-0248f090> Добавить</span><i class="i" data-v-0248f090></i></button></div>',1),j={key:0,class:"add-someone-text"},F=N((()=>(0,n._)("p",null,"Добавим кого-нибудь!",-1))),B=N((()=>(0,n._)("i",{class:"pi pi-user-plus"},null,-1))),K=[F,B],Y={key:0,class:"Added_persons"},$=N((()=>(0,n._)("h3",null,"Добавленные персоны:",-1))),R={class:"person-list-wrapper"},J={class:"person-list"},L={class:"avatar"},G={class:"person-name"},X=["onClick"];function Q(e,s,t,i,l,a){const c=(0,n.up)("InputText");return(0,n.wg)(),(0,n.iD)("div",W,[U,(0,n._)("form",{onSubmit:s[3]||(s[3]=(0,o.iM)(((...e)=>a.addPerson&&a.addPerson(...e)),["prevent"]))},[(0,n._)("label",null,[(0,n._)("div",E,[(0,n._)("span",H,[(0,n._)("i",{class:(0,q.C_)(["pi pi-user",{"input-group-user":l.isInputActive}])},null,2)]),(0,n.Wm)(c,{placeholder:"Имя",modelValue:l.newPerson.name,"onUpdate:modelValue":s[0]||(s[0]=e=>l.newPerson.name=e),onFocus:s[1]||(s[1]=e=>l.isInputActive=!0),onBlur:s[2]||(s[2]=e=>l.isInputActive=!1)},null,8,["modelValue"])])]),Z,0===t.people.length?((0,n.wg)(),(0,n.iD)("div",j,K)):(0,n.kq)("",!0)],32),t.people.length>0?((0,n.wg)(),(0,n.iD)("div",Y,[$,(0,n._)("div",R,[(0,n._)("ul",J,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.people,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.id,class:"person-item"},[(0,n._)("div",L,(0,q.zw)(e.name[0]),1),(0,n._)("span",G,(0,q.zw)(e.name),1),(0,n._)("i",{class:"pi pi-times person-delete-icon",onClick:s=>a.deletePerson(e)},null,8,X)])))),128))])])])):(0,n.kq)("",!0)])}var ee=t(6709),se={components:{InputText:ee.Z},data(){return{newPerson:{name:""},isInputActive:!1}},props:{people:{type:Array,required:!0}},methods:{deletePerson(e){this.$emit("delete-person",e)},addPerson(){if(this.newPerson.name.trim()){const e={id:Date.now(),name:this.newPerson.name.trim()};this.$emit("add-people",[...this.people,e]),this.newPerson.name=""}}}},te=t(89);const oe=(0,te.Z)(se,[["render",Q],["__scopeId","data-v-0248f090"]]);var ie=oe;const ne=e=>((0,n.dD)("data-v-fe3f4070"),e=e(),(0,n.Cn)(),e),le=ne((()=>(0,n._)("h2",{class:"title"},"Добавление позиции",-1))),ae={class:"form-group"},ce={class:"p-inputgroup flex-1"},re={class:"p-inputgroup-addon"},de={class:"p-inputgroup flex-1"},pe={class:"p-inputgroup-addon"},ue={class:"form-group"},he={class:"avatars-container"},me=["onClick"],ve=["onUpdate:modelValue"],_e={class:"button-wrapper"},we=ne((()=>(0,n._)("span",{class:"dob"},"Добавить позицию",-1))),fe=ne((()=>(0,n._)("span",{class:"button-icon-wrapper"},[(0,n._)("i",{class:"pi pi-check"})],-1))),be=ne((()=>(0,n._)("i",{class:"i"},null,-1))),ge=[we,fe,be],ke={class:"modal-content"},Pe={key:0},ye={key:1},Ce={key:2},De=ne((()=>(0,n._)("h3",{class:"title"},"Список позиций:",-1))),Me={class:"position-list"},Se={class:"position-info"},xe={class:"position-name"},Ie={class:"position-price"},Te={class:"avatars-container"},Ae={class:"avatar-text"},Ve=["onClick"],Oe=ne((()=>(0,n._)("i",{class:"pi pi-trash"},null,-1))),ze=[Oe],qe={class:"interim-total"},Ne=ne((()=>(0,n._)("h3",null,"Промежуточный итог:",-1))),We={class:"itog"};function Ue(e,s,t,i,l,a){const c=(0,n.up)("Icon"),r=(0,n.up)("InputText"),d=(0,n.up)("InputNumber");return(0,n.wg)(),(0,n.iD)("div",null,[le,(0,n._)("form",{onSubmit:s[6]||(s[6]=(0,o.iM)(((...e)=>a.addPosition&&a.addPosition(...e)),["prevent"])),class:"position-form"},[(0,n._)("div",ae,[(0,n._)("div",ce,[(0,n._)("span",re,[(0,n.Wm)(c,{icon:"fluent:food-24-filled",width:"32",height:"32"})]),(0,n.Wm)(r,{type:"text",id:"name",modelValue:l.name,"onUpdate:modelValue":s[0]||(s[0]=e=>l.name=e),placeholder:"Название",class:"input-field"},null,8,["modelValue"])])]),(0,n._)("div",de,[(0,n._)("span",pe,[(0,n.Wm)(c,{icon:"ph:currency-rub-bold",width:"32",height:"32"})]),(0,n.Wm)(d,{id:"price",modelValue:l.price,"onUpdate:modelValue":s[1]||(s[1]=e=>l.price=e),placeholder:"Стоимость",class:"input-field"},null,8,["modelValue"])]),(0,n._)("div",ue,[(0,n._)("div",he,[(0,n._)("div",{class:(0,q.C_)(["avatar",{active:l.allPeopleSelected}]),onClick:s[2]||(s[2]=(...e)=>a.selectAllPeople&&a.selectAllPeople(...e))}," Все ",2),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.people,((e,s)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,q.C_)(["avatar",{active:e.checked}]),key:s,onClick:s=>a.toggleAvatarCheck(e)},[(0,n._)("span",{class:(0,q.C_)(["avatar-text",{"avatar-text-active":e.checked}])},(0,q.zw)(e.name[0]),3),(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":s=>e.checked=s,class:"avatar-checkbox"},null,8,ve),[[o.e8,e.checked]])],10,me)))),128))])]),(0,n._)("div",_e,[(0,n._)("button",{onClick:s[3]||(s[3]=(...s)=>e.openModal&&e.openModal(...s)),class:"p-mt-3 add-button_1"},ge)]),l.showModal?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"modal-overlay",onClick:s[5]||(s[5]=(...e)=>a.closeModal&&a.closeModal(...e))},[(0,n._)("div",ke,[a.isNameValid?a.isPriceValid?a.isPeopleSelected?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("h3",Ce,"Выберите, кто ел")):((0,n.wg)(),(0,n.iD)("h3",ye,"Бесплатно?")):((0,n.wg)(),(0,n.iD)("h3",Pe,"Напишите название")),(0,n._)("button",{onClick:s[4]||(s[4]=(...e)=>a.closeModal&&a.closeModal(...e)),class:"ok-button"},"Ок")])])):(0,n.kq)("",!0)],32),De,(0,n._)("ul",Me,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.positions,((e,s)=>((0,n.wg)(),(0,n.iD)("li",{key:s,class:"position-item"},[(0,n._)("div",Se,[(0,n._)("span",xe,(0,q.zw)(e.name),1),(0,n._)("span",Ie,(0,q.zw)(e.price)+" руб.",1),(0,n._)("div",Te,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.people,((e,s)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,q.C_)(["avatar ava",{"avatar-active":e.checked}]),key:s,style:(0,q.j5)({backgroundColor:a.getAvatarColor(s)})},[(0,n._)("span",Ae,(0,q.zw)(e.name[0]),1)],6)))),128))])]),(0,n._)("button",{onClick:e=>a.removePosition(s),class:"remove-button"},ze,8,Ve)])))),128))]),(0,n._)("div",qe,[Ne,(0,n._)("p",We,(0,q.zw)(a.calculateTotal())+" руб. (+ "+(0,q.zw)(a.calculateTip())+" руб. чаевых) ",1)])])}var Ee=t(6371),He={components:{InputText:ee.Z,InputNumber:Ee.Z,Icon:z.JO},props:{positions:{type:Array,required:!0},people:{type:Array,required:!0}},computed:{isNameValid(){return this.name.trim().length>0},isPriceValid(){return null!==this.price},isPeopleSelected(){return this.people.some((e=>e.checked))},isPositionValid(){return this.name.trim().length>0&&null!==this.price&&this.people.some((e=>e.checked))}},data(){return{name:"",price:null,allPeopleSelected:!1,showModal:!1}},methods:{removePosition(e){this.$emit("remove-position",e)},closeModal(){this.showModal=!1},addPosition(){if(!this.isNameValid||!this.isPriceValid||!this.isPeopleSelected)return void(this.showModal=!0);const e={name:this.name,price:Number(this.price),people:this.people.filter((e=>e.checked))};this.$emit("add-position",e),this.name="",this.price=null,this.resetPeopleChecked()},calculateTotal(){let e=0;return this.positions.forEach((s=>{e+=s.price})),e},calculateTip(){const e=.1,s=this.calculateTotal(),t=s*e;return t.toFixed(2)},toggleAvatarCheck(e){e.checked=!e.checked,this.updateAllPeopleSelected()},resetPeopleChecked(){this.people.forEach((e=>{e.checked=!1})),this.allPeopleSelected=!1},selectAllPeople(){this.allPeopleSelected=!this.allPeopleSelected,this.people.forEach((e=>{e.checked=this.allPeopleSelected}))},updateAllPeopleSelected(){const e=this.people.filter((e=>e.checked)).length;this.allPeopleSelected=e===this.people.length},getAvatarColor(e){const s=["#048bfa","#ff6b6b","#67d17e","#f4b942","#7c49b3"];return s[e%s.length]}}};const Ze=(0,te.Z)(He,[["render",Ue],["__scopeId","data-v-fe3f4070"]]);var je=Ze;const Fe=e=>((0,n.dD)("data-v-1e999de7"),e=e(),(0,n.Cn)(),e),Be={class:"result"},Ke=Fe((()=>(0,n._)("h2",null,"Результат",-1))),Ye={key:0},$e=Fe((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Имя"),(0,n._)("th",{class:"cost-column"},"Должен"),(0,n._)("th",{class:"paid-column"},"Заплатил")])],-1))),Re={class:"cost-column"},Je={class:"col-12 mb-2 lg:col-4 lg:mb-0"},Le=["onUpdate:modelValue"],Ge={class:"tips"},Xe={class:"tip-amount"},Qe=Fe((()=>(0,n._)("span",null,"Кто кому должен",-1))),es=Fe((()=>(0,n._)("i",{class:"i"},null,-1))),ss=[Qe,es],ts={key:0,class:"modal"},os={class:"modal-content"},is=Fe((()=>(0,n._)("p",null,"Пожалуйста, введите достаточную сумму, чтобы покрыть все расходы.",-1))),ns={key:1};function ls(e,s,t,i,l,a){const c=(0,n.up)("BillList");return(0,n.wg)(),(0,n.iD)("div",Be,[Ke,"bill-list"!==l.currentScreen?((0,n.wg)(),(0,n.iD)("div",Ye,[(0,n._)("table",null,[$e,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.people,((e,s)=>((0,n.wg)(),(0,n.iD)("tr",{key:s},[(0,n._)("td",null,(0,q.zw)(e.name),1),(0,n._)("td",Re,(0,q.zw)(a.personCosts[e.id].toFixed(2))+" руб.",1),(0,n._)("td",null,[(0,n._)("div",Je,[(0,n.wy)((0,n._)("input",{class:"p-inputtext p-component","onUpdate:modelValue":s=>l.personPaid[e.id]=s},null,8,Le),[[o.nr,l.personPaid[e.id]]])])])])))),128))])]),(0,n._)("div",Ge,[(0,n.Uk)(" Общие чаевые: "),(0,n._)("span",Xe,(0,q.zw)(a.calculateTips())+" руб.",1)]),(0,n._)("button",{onClick:s[0]||(s[0]=(...e)=>a.showModalIfDebtExists&&a.showModalIfDebtExists(...e)),class:"p-mt-3 add-button addbtn btnn"},ss),l.showModal?((0,n.wg)(),(0,n.iD)("div",ts,[(0,n._)("div",os,[(0,n._)("h3",null,"Вы еще должны "+(0,q.zw)((a.totalCost-a.totalPaid).toFixed(2))+" руб.",1),is,(0,n._)("button",{onClick:s[1]||(s[1]=e=>l.showModal=!1)},"Закрыть")])])):(0,n.kq)("",!0)])):((0,n.wg)(),(0,n.iD)("div",ns,[(0,n.Wm)(c,{debts:a.debts},null,8,["debts"])]))])}const as=e=>((0,n.dD)("data-v-e3d8d192"),e=e(),(0,n.Cn)(),e),cs={class:"bill-owe"},rs={class:"bill-tabs"},ds=as((()=>(0,n._)("span",{class:"tab-icon"},"Кто кому должен",-1))),ps=[ds],us=as((()=>(0,n._)("span",{class:"tab-icon"},"Кому кто должен",-1))),hs=[us],ms={key:0,class:"bill-list"},vs={key:0,class:"custom-list"},_s={class:"debt-info"},ws={class:"debt-amount"},fs=as((()=>(0,n._)("span",{class:"currency-symbol"},"₽",-1))),bs={class:"debt-to"},gs={class:"Nikname"},ks={class:"Nikname"},Ps={key:1,class:"no-debts"},ys=as((()=>(0,n._)("p",null,"Никто никому ничего не должен.",-1))),Cs=as((()=>(0,n._)("i",{class:"custom-icon fas fa-thumbs-up"},null,-1))),Ds=[ys,Cs],Ms={key:1,class:"bill-list"},Ss={key:0,class:"custom-list"},xs={class:"debt-info"},Is={class:"debt-amount"},Ts=as((()=>(0,n._)("span",{class:"currency-symbol"},"₽",-1))),As={class:"debt-to"},Vs={class:"Nikname"},Os={class:"Nikname"},zs={key:1,class:"no-debts"},qs=as((()=>(0,n._)("p",null,"Никто никому ничего не должен.",-1))),Ns=as((()=>(0,n._)("i",{class:"custom-icon fas fa-thumbs-up"},null,-1))),Ws=[qs,Ns];function Us(e,s,t,o,i,l){return(0,n.wg)(),(0,n.iD)("div",cs,[(0,n._)("div",rs,[(0,n._)("button",{class:(0,q.C_)({"bill-tab":!0,active:"who-owes"===i.currentTab}),onClick:s[0]||(s[0]=e=>l.changeTab("who-owes"))},ps,2),(0,n._)("button",{class:(0,q.C_)({"bill-tab":!0,active:"who-is-owed"===i.currentTab}),onClick:s[1]||(s[1]=e=>l.changeTab("who-is-owed"))},hs,2)]),"who-owes"===i.currentTab?((0,n.wg)(),(0,n.iD)("div",ms,[t.debts.whoOwes.length>0?((0,n.wg)(),(0,n.iD)("ul",vs,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.debts.whoOwes,((e,s)=>((0,n.wg)(),(0,n.iD)("li",{key:s,class:"custom-list-item"},[(0,n._)("span",_s,[(0,n._)("span",ws,(0,q.zw)(e.amount),1),fs]),(0,n._)("span",bs,[(0,n.Uk)(" Пользователь "),(0,n._)("span",gs,(0,q.zw)(e.to),1),(0,n.Uk)(" должен пользователю "),(0,n._)("span",ks,(0,q.zw)(e.from),1)])])))),128))])):((0,n.wg)(),(0,n.iD)("div",Ps,Ds))])):(0,n.kq)("",!0),"who-is-owed"===i.currentTab?((0,n.wg)(),(0,n.iD)("div",Ms,[t.debts.whoIsOwed.length>0?((0,n.wg)(),(0,n.iD)("ul",Ss,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.debts.whoIsOwed,((e,s)=>((0,n.wg)(),(0,n.iD)("li",{key:s,class:"custom-list-item"},[(0,n._)("span",xs,[(0,n._)("span",Is,(0,q.zw)(e.amount),1),Ts]),(0,n._)("span",As,[(0,n.Uk)(" Пользователю "),(0,n._)("span",Vs,(0,q.zw)(e.from),1),(0,n.Uk)(" должен пользователь "),(0,n._)("span",Os,(0,q.zw)(e.to),1)])])))),128))])):((0,n.wg)(),(0,n.iD)("div",zs,Ws))])):(0,n.kq)("",!0)])}var Es={props:{debts:{type:Object,required:!0}},data(){return{currentTab:"who-owes"}},methods:{changeTab(e){this.currentTab=e}}};const Hs=(0,te.Z)(Es,[["render",Us],["__scopeId","data-v-e3d8d192"]]);var Zs=Hs,js={components:{BillList:Zs},props:{positions:{type:Array,required:!0},people:{type:Array,required:!0}},computed:{totalCost(){return Object.values(this.personCosts).reduce(((e,s)=>e+s),0)},totalPaid(){return Object.values(this.personPaid).reduce(((e,s)=>e+parseFloat(s||0)),0)},personCosts(){const e={};for(const s of this.people){let t=0;for(const e of this.positions)e.people.includes(s)&&(t+=e.price/Math.round(e.people.length));e[s.id]=t}return e},debts(){return this.calculateDebts()}},data(){return{personPaid:{},currentScreen:"result",showModal:!1}},methods:{showModalIfDebtExists(){this.totalCost>this.totalPaid?this.showModal=!0:this.currentScreen="bill-list"},done(){this.$emit("done",this.personPaid)},calculateTips(){let e=0;for(const s in this.personPaid)e+=parseFloat(this.personPaid[s]);return.1*e},calculateDebts(){const e={whoOwes:[],whoIsOwed:[]};for(const s of this.people){const t=this.personCosts[s.id],o=this.personPaid[s.id]||0;let i=o-t;if(i>0){for(const n of this.people)if(n!==s){const t=this.personCosts[n.id],o=this.personPaid[n.id]||0,l=o-t;if(l<0){const t=Math.min(i,-l);if(e.whoIsOwed.push({from:s.name,to:n.name,amount:t.toFixed(2)}),i-=t,i<=0)break}}}else if(i<0)for(const n of this.people)if(n!==s){const t=this.personCosts[n.id],o=this.personPaid[n.id]||0,l=o-t;if(l>0){const t=Math.min(-i,l);if(e.whoOwes.push({from:n.name,to:s.name,amount:t.toFixed(2)}),i+=t,i>=0)break}}}return e}}};const Fs=(0,te.Z)(js,[["render",ls],["__scopeId","data-v-1e999de7"]]);var Bs=Fs;const Ks=(0,n._)("i",{class:"pi pi-share-alt app-iconn"},null,-1),Ys=[Ks],$s=(0,n._)("li",{style:{"--i":"0","--clr":"#1877f2"}},[(0,n._)("a",{href:"https://github.com/NickPavlovskii"},[(0,n._)("i",{class:"pi pi-github icn",style:{"--clr":"gray"}})])],-1),Rs={style:{"--i":"1","--clr":"#c32aa3"}},Js={href:"https://www.instagram.com/o__niklad__o/?hl=ru"},Ls={style:{"--i":"2","--clr":"#7289da"}},Gs={href:"https://discordapp.com/users/318683913579134977/ "},Xs={style:{"--i":"3","--clr":"#25d366"}},Qs={href:""},et={style:{"--i":"4","--clr":"#4e76a8"}},st={href:"https://vk.com/o_0niklad0_o"},tt={style:{"--i":"5","--clr":"#1877f2"}},ot={href:"https://t.me/N1klad"},it={style:{"--i":"6","--clr":"orange"}},nt={href:"https://gitlab.com/"};function lt(e,s,t,o,i,l){const a=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",{class:(0,q.C_)(["menu",{active:i.menuActive}])},[(0,n._)("div",{class:(0,q.C_)(["toggle",{active:i.menuActive}]),onClick:s[0]||(s[0]=(...e)=>l.toggleMenu&&l.toggleMenu(...e))},Ys,2),$s,(0,n._)("li",Rs,[(0,n._)("a",Js,[(0,n.Wm)(a,{icon:"fa-brands fa-instagram icn",class:"icn"})])]),(0,n._)("li",Ls,[(0,n._)("a",Gs,[(0,n.Wm)(a,{icon:"fa-brands fa-discord ",class:"icn"})])]),(0,n._)("li",Xs,[(0,n._)("a",Qs,[(0,n.Wm)(a,{icon:"fa-brands fa-whatsapp",class:"icn"})])]),(0,n._)("li",et,[(0,n._)("a",st,[(0,n.Wm)(a,{icon:"fa-brands fa-vk icn",class:"icn"})])]),(0,n._)("li",tt,[(0,n._)("a",ot,[(0,n.Wm)(a,{icon:"fa-brands fa-telegram icn",class:"icn"})])]),(0,n._)("li",it,[(0,n._)("a",nt,[(0,n.Wm)(a,{icon:"fa-brands fa-gitlab icn",class:"icn"})])])],2)}var at=t(3494),ct=t(4551),rt=t(7749);at.vI.add(ct.zhw,ct.Zzi,ct.omb,ct.VHX,ct.iD2,ct.Uv8,ct.JE);var dt={components:{FontAwesomeIcon:rt.GN},data(){return{menuActive:!1}},methods:{toggleMenu(){this.menuActive=!this.menuActive}}};const pt=(0,te.Z)(dt,[["render",lt]]);var ut=pt,ht={components:{Icon:z.JO,AddPersons:ie,AddPositions:je,BillResult:Bs,MyShare:ut},props:{isNameValid:Boolean,isPriceValid:Boolean,isPeopleSelected:Boolean},data(){return{currentScreen:"main-component",people:[],positions:[],showModal:!1,showPositionModal:!1,showModalMain:!1}},methods:{navigateToPersons(){this.currentScreen="add-persons"},showInstructions(){this.showModalMain=!0},closeModal(){this.showModalMain=!1},openPositionModal(e){this.positions.length<2?this.showPositionModal=!0:this.currentScreen=e},closePositionModal(){this.showPositionModal=!1},goToNextScreen(e){this.people.length>=2?this.currentScreen=e:this.showModal=!0},deletePerson(e){const s=this.people.findIndex((s=>s.id===e.id));-1!==s&&this.people.splice(s,1)},navigateToHome(){this.currentScreen="main-component"},removePosition(e){const s=this.positions.findIndex((s=>s.id===e.id));-1!==s&&this.positions.splice(s,1)},addPeople(e){this.people=e},addPosition(e){this.positions.push(e)},showPositionsScreen(){this.currentScreen="listPositions"},showResultsScreen(){this.currentScreen="results"},calculatePersonCost(e){let s=0;for(let t of this.positions)t.peopleEaten.includes(e)&&(s+=t.cost/t.peopleEaten.length);return s}}};const mt=(0,te.Z)(ht,[["render",O],["__scopeId","data-v-b030292e"]]);var vt=mt;const _t=(0,o.ri)(vt);_t.use(i.Z),_t.mount("#app")}},s={};function t(o){var i=s[o];if(void 0!==i)return i.exports;var n=s[o]={exports:{}};return e[o](n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(s,o,i,n){if(!o){var l=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],n=e[d][2];for(var a=!0,c=0;c<o.length;c++)(!1&n||l>=n)&&Object.keys(t.O).every((function(e){return t.O[e](o[c])}))?o.splice(c--,1):(a=!1,n<l&&(l=n));if(a){e.splice(d--,1);var r=i();void 0!==r&&(s=r)}}return s}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,i,n]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,o){var i,n,l=o[0],a=o[1],c=o[2],r=0;if(l.some((function(s){return 0!==e[s]}))){for(i in a)t.o(a,i)&&(t.m[i]=a[i]);if(c)var d=c(t)}for(s&&s(o);r<l.length;r++)n=l[r],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},o=self["webpackChunkcheck"]=self["webpackChunkcheck"]||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(5895)}));o=t.O(o)})();
//# sourceMappingURL=app.fac6dffc.js.map